import{c as v,r as d,j as e,d as l,b as H,M as R,t as i,U as p,E as M}from"./app-BteG_EHQ.js";import{A as F}from"./AuthenticatedLayout-BU5BNhg8.js";import{B as f}from"./button-DkdEXNXu.js";import{D as W,a as _,b as S,c as z,d as A,e as B,L as E}from"./drawer-D-iBoiAH.js";import{I}from"./input-DTySDMSr.js";import{d as L}from"./dayjs.min-JM-b670j.js";import{T as m}from"./enums-b1rp4VQl.js";import{S as x}from"./skeleton-BDkSOPT_.js";import{W as Y}from"./wallet-minimal-CKgEE7Zn.js";import"./wallet-D9DRw4dV.js";import"./index-iLPL1g4p.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=v("HandCoins",[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=v("TicketSlash",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"m9.5 14.5 5-5",key:"qviqfa"}]]),u=d.forwardRef(({className:s,...a},t)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:t,className:l("w-full caption-bottom text-sm",s),...a})}));u.displayName="Table";const j=d.forwardRef(({className:s,...a},t)=>e.jsx("thead",{ref:t,className:l("[&_tr]:border-b",s),...a}));j.displayName="TableHeader";const b=d.forwardRef(({className:s,...a},t)=>e.jsx("tbody",{ref:t,className:l("[&_tr:last-child]:border-0",s),...a}));b.displayName="TableBody";const P=d.forwardRef(({className:s,...a},t)=>e.jsx("tfoot",{ref:t,className:l("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...a}));P.displayName="TableFooter";const o=d.forwardRef(({className:s,...a},t)=>e.jsx("tr",{ref:t,className:l("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...a}));o.displayName="TableRow";const c=d.forwardRef(({className:s,...a},t)=>e.jsx("th",{ref:t,className:l("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...a}));c.displayName="TableHead";const n=d.forwardRef(({className:s,...a},t)=>e.jsx("td",{ref:t,className:l("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...a}));n.displayName="TableCell";const U=d.forwardRef(({className:s,...a},t)=>e.jsx("caption",{ref:t,className:l("mt-4 text-sm text-muted-foreground",s),...a}));U.displayName="TableCaption";function V(){return e.jsx("div",{children:e.jsxs(u,{children:[e.jsx(j,{children:e.jsxs(o,{children:[e.jsx(c,{className:"h-4"}),e.jsx(c,{className:"h-4 text-right"})]})}),e.jsx(b,{children:Array.from({length:10}).map((s,a)=>e.jsxs(o,{className:"bg-card text-card-foreground mt-4 hover:bg-primary/50",children:[e.jsx(n,{className:"font-medium border-s-gray-300 border-l-4",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(x,{className:"h-4 w-3/4"}),e.jsx(x,{className:"h-5 w-1/2"})]})}),e.jsx(n,{className:"text-right ps-0",children:e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx(x,{className:"h-4 w-2/3"}),e.jsx(x,{className:"h-4 w-1/4"})]})})]},a))})]})})}const w=50;function Z({transactions:s,settings:a,auth:t}){const[T,N]=d.useState(!1),{post:k,data:h,setData:C,processing:g,errors:y}=H({amount:""}),D=r=>{r.preventDefault(),k(route("deposit.store"))};return console.log("deferred: ",s),e.jsxs(e.Fragment,{children:[e.jsx(R,{title:"Events"}),e.jsxs("div",{className:"flex flex-col h-full bg-primary",children:[e.jsxs("div",{className:"bg-primary text-primary-foreground px-4 py-4",children:[e.jsxs("div",{className:"flex justify-between py-4 text-lg",children:[e.jsx("h3",{className:"font-bold",children:"Wallet Balance"}),e.jsx("span",{className:"",children:i(t.user.balance)})]}),e.jsxs("div",{className:"flex justify-center items-center py-4 gap-4",children:[e.jsxs(f,{onClick:()=>N(!0),variant:"secondary",size:"lg",className:"text-base bg-gradient-to-r from-secondary to-accent",children:[e.jsx(Y,{}),"Deposit"]}),e.jsx(f,{variant:"secondary",size:"lg",className:"text-base bg-gradient-to-r from-secondary to-accent text-secondary-foreground",asChild:!0,children:e.jsxs(p,{href:route("withdraw"),children:[e.jsx(q,{size:12}),"Withdraw"]})})]})]}),e.jsxs("div",{className:"flex-1 rounded-t-[24px] bg-background overflow-y-auto",children:[e.jsx("h2",{className:"px-4 pt-8 font-bold text-lg",children:"Transactions"}),e.jsx(M,{fallback:e.jsx(V,{}),data:"transactions",children:e.jsxs(e.Fragment,{children:[s&&s.length===0&&e.jsxs("div",{className:"h-full flex flex-col items-center justify-center px-8",children:[e.jsx(O,{size:56}),e.jsx("h3",{className:"font-bold text-lg",children:"No transactions yet"}),e.jsx("p",{className:"text-center",children:"Once you make you first deposit, you will be able to view it here."})]}),s&&s.length>0&&e.jsxs(u,{children:[e.jsx(j,{children:e.jsxs(o,{className:"h-1",children:[e.jsx(c,{className:"h-4","aria-description":"Description and Amount"}),e.jsx(c,{className:"h-4 w-40","aria-description":"Date"})]})}),e.jsx(b,{children:s.map((r,G)=>e.jsxs(o,{className:"bg-card text-card-foreground mt-4 hover:bg-primary/50",children:[e.jsx(n,{className:l("font-medium border-s-green-500 border-l-4",{"border-s-green-400":r.trend_up,"border-s-red-400":!r.trend_up}),children:e.jsxs(p,{href:route("transaction.show",{transaction:r}),children:[e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"text-sm line-clamp-1",children:r.description})}),e.jsx("div",{className:"text-base",children:e.jsx("span",{children:i(Number(r.amount))})})]})}),e.jsx(n,{className:"text-right ps-0",children:e.jsxs(p,{href:route("transaction.show",{transaction:r}),className:"flex flex-col items-end gap-1",children:[e.jsx("span",{className:"text-xs",children:L(r.created_at).format("D MMM YYYY ãƒ» HH:mA")}),e.jsx("span",{className:l("text-xs w-fit px-2 rounded font-bold",{"bg-destructive/20 text-red-500":[m.Failed,m.Cancelled].includes(r.status),"bg-green-500/50 text-green-500":r.status===m.Completed,"bg-orange-500/20 text-orange-500":r.status===m.Pending}),children:r.status})]})})]},r.id))})]})]})})]})]}),e.jsx(W,{open:T,onOpenChange:N,children:e.jsxs(_,{className:"bg-card",children:[e.jsxs(S,{children:[e.jsx(z,{children:"Fund Wallet"}),e.jsx(A,{children:"How much do you to add?"})]}),e.jsxs("form",{onSubmit:D,className:"px-4",children:[e.jsxs("div",{className:"pb-8 space-y-2",children:[e.jsx(I,{type:"number",placeholder:"Minimum of 100",step:.01,min:a.wallet.minimum_deposit_ngn,value:h.amount,onChange:r=>C("amount",r.target.value)}),e.jsx("small",{className:"text-destructive",children:y&&y.amount}),e.jsxs("p",{className:"text-end text-sm",children:["Deposit Fee: ",i(w)]}),e.jsxs("p",{className:"text-end text-sm",children:["You Receive: ",h.amount?i(Number(h.amount)-w):"0.00"]})]}),e.jsx(B,{className:"pb-8 px-0",children:e.jsxs(f,{disabled:g,type:"submit",size:"lg",children:[g&&e.jsx(E,{className:"animate-spin"}),"Continue to Payment"]})})]})]})})]})}Z.layout=s=>e.jsx(F,{showHeader:!1,children:s});export{Z as default};
