import{j as e,d as u,u as w,b as _,r as y,M as k,U as C,e as q}from"./app-BteG_EHQ.js";import{I as i}from"./InputError-BwLa5QLz.js";import{I}from"./InputLabel-dh28Xia8.js";import{G as B}from"./GuestLayout-CoZwKnWW.js";import{I as n}from"./input-DTySDMSr.js";import{B as d}from"./button-DkdEXNXu.js";import{m as E}from"./proxy-DSaPmsJZ.js";const D=({steps:o,currentStep:s})=>e.jsx("div",{className:"flex justify-between items-center my-4",children:o.map((l,t)=>e.jsxs("div",{className:u("flex items-center",{"w-full":t!==o.length-1}),children:[e.jsx("div",{className:u("w-8 h-8 flex items-center justify-center rounded-full text-white",{"bg-gradient-to-r from-secondary to-accent":s===t+1,"bg-primary":s>t+1,"bg-primary/40":s<t+1}),children:t+1}),t<o.length-1&&e.jsx("div",{className:"flex-1 h-[2px] bg-gray-300 relative overflow-hidden",children:e.jsx(E.div,{initial:{x:"-100%"},animate:{x:s>t+1?"0%":"-100%"},transition:{duration:.3,ease:"easeInOut",delay:t*.1},className:"absolute inset-0 bg-indigo-600 origin-left"})})]},t))});function M(){const{toast:o}=w(),{data:s,setData:l,post:t,processing:x,errors:r,reset:h}=_({first_name:"",last_name:"",username:"",mobile_number:"",nationality:"Nigeria",date_of_birth:"",email:"",password:"",password_confirmation:""}),[m,f]=y.useState(1),p=()=>f(a=>a+1),b=()=>f(a=>a-1),g=a=>{a.preventDefault(),t(route("register"),{onFinish:()=>{h("password","password_confirmation"),o({title:"Account created successfully",variant:"success"})},onError:v=>{const N=q(v);o({title:N??"Registration failed",variant:"destructive"})}})},c=[{label:"Basic Information"},{label:"Contact Details"},{label:"Account Security"}],j=m===c.length;return e.jsxs(e.Fragment,{children:[e.jsx(k,{title:"Register"}),e.jsxs("div",{className:"flex flex-col h-full px-8 pt-6 pb-6",children:[e.jsx("h4",{className:"font-medium text-lg",children:c[m-1].label}),e.jsx(D,{steps:c,currentStep:m}),e.jsx("div",{className:"mb-8 text-sm text-gray-300",children:"Please ensure all information provided is accurate, as it cannot be modified later."}),e.jsx("div",{className:"flex-1 flex flex-col items-center",children:e.jsxs("form",{onSubmit:g,className:"w-full flex flex-col flex-1",children:[m===1&&e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{children:[e.jsx(n,{id:"first_name",name:"first_name",value:s.first_name,onChange:a=>l("first_name",a.target.value),placeholder:"First Name",className:"mt-1 block w-full",required:!0}),e.jsx(i,{message:r.first_name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{id:"last_name",name:"last_name",value:s.last_name,onChange:a=>l("last_name",a.target.value),placeholder:"Last Name",className:"mt-1 block w-full",required:!0}),e.jsx(i,{message:r.last_name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{id:"username",name:"username",value:s.username,onChange:a=>l("username",a.target.value),placeholder:"Username",className:"mt-1 block w-full",required:!0}),e.jsx(i,{message:r.username,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{id:"email",type:"email",name:"email",value:s.email,onChange:a=>l("email",a.target.value),placeholder:"Email",className:"mt-1 block w-full",required:!0}),e.jsx(i,{message:r.email,className:"mt-2"})]})]}),m===2&&e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{children:[e.jsx(n,{id:"mobile_number",name:"mobile_number",value:s.mobile_number,onChange:a=>l("mobile_number",a.target.value),placeholder:"Mobile Number",autoComplete:"mobile tel",className:"mt-1 block w-full",required:!0}),e.jsx(i,{message:r.mobile_number,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{id:"nationality",name:"nationality",value:s.nationality,onChange:a=>l("nationality",a.target.value),placeholder:"Nationality",autoComplete:"country",className:"mt-1 block w-full"}),e.jsx(i,{message:r.nationality,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(I,{htmlFor:"date_of_birth",value:"Date of Birth"}),e.jsx(n,{id:"date_of_birth",name:"date_of_birth",type:"date",value:s.date_of_birth,onChange:a=>l("date_of_birth",a.target.value),placeholder:"Date of Birth",autoComplete:"bday-day",className:u("mt-1 block w-full","[&::-webkit-calendar-picker-indicator]:invert [&::-webkit-calendar-picker-indicator]:opacity-70 hover:[&::-webkit-calendar-picker-indicator]:opacity-100","[&::-webkit-calendar-picker-indicator]:p-1 [&::-webkit-calendar-picker-indicator]:rounded","[&::-webkit-calendar-picker-indicator]:hover:cursor-pointer","[color-scheme:light]"),required:!0}),e.jsx(i,{message:r.date_of_birth,className:"mt-2"})]})]}),m===3&&e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{children:[e.jsx(n,{id:"password",type:"password",name:"password",value:s.password,onChange:a=>l("password",a.target.value),placeholder:"Password",className:"mt-1 block w-full",required:!0}),e.jsx(i,{message:r.password,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{id:"password_confirmation",type:"password",name:"password_confirmation",value:s.password_confirmation,onChange:a=>l("password_confirmation",a.target.value),placeholder:"Confirm Password",className:"mt-1 block w-full",required:!0}),e.jsx(i,{message:r.password_confirmation,className:"mt-2"})]})]}),e.jsxs("div",{className:"mt-8 flex justify-between",children:[m>1&&e.jsx(d,{size:"lg",onClick:b,type:"button",variant:"outline",children:"Back"}),j?e.jsx(d,{size:"lg",type:"submit",disabled:x,children:"Register"}):e.jsx(d,{size:"lg",onClick:p,type:"button",children:"Next"})]})]})}),e.jsxs("div",{className:"pt-4 text-center text-sm",children:["Already have an account? ",e.jsx(C,{className:"underline",href:route("login"),children:"Login"})]})]})]})}M.layout=o=>e.jsx(B,{children:o});export{M as default};
